import{r as h,o as l,a as c,b as e,w as y,e as r,v as p,u as a,f as x,h as $,F as k,i as S,j as g,k as w,t as m}from"./entry.c2060199.js";const D={class:"section py-4"},T=["onSubmit"],V=e("h2",{class:"subtitle is-3"},"Add page",-1),C={class:"field"},F=e("label",{class:"label"},"Name",-1),N={class:"control"},U={class:"field"},P=e("label",{class:"label"},"Title",-1),B={class:"control"},E={class:"field"},M=e("label",{class:"label"},"Description",-1),j={class:"control"},q=e("div",{class:"field is-grouped mt-5"},[e("div",{class:"control"},[e("button",{class:"button is-link"},"Submit")])],-1),A={__name:"add-form",emits:["submitForm"],setup(f,{emit:n}){const o=h({name:"",title:"",description:""}),d=async()=>{n("submitForm",o.value)};return(u,s)=>(l(),c("div",null,[e("div",D,[e("form",{onSubmit:y(d,["prevent"]),id:"form",class:"card p-5"},[V,e("div",C,[F,e("div",N,[r(e("input",{class:"input",type:"text",placeholder:"Name (ex. 'help')","onUpdate:modelValue":s[0]||(s[0]=t=>a(o).name=t)},null,512),[[p,a(o).name]])])]),e("div",U,[P,e("div",B,[r(e("input",{class:"input",type:"text",placeholder:"Title (ex. 'Help Page')","onUpdate:modelValue":s[1]||(s[1]=t=>a(o).title=t)},null,512),[[p,a(o).title]])])]),e("div",E,[M,e("div",j,[r(e("textarea",{class:"textarea",placeholder:"Description","onUpdate:modelValue":s[2]||(s[2]=t=>a(o).description=t)},null,512),[[p,a(o).description]])])]),q],40,T)])]))}},H=["onClick"],I=["onClick"],O=x({__name:"index",setup(f){const n=h();$(async()=>{s()});const o=async t=>{await $fetch("/api/add?col=pages",{method:"POST",body:t}),s()},d=async t=>{await $fetch(`/api/delete?col=pages&id=${t}`),s()},u=async t=>{const _={name:"EDITED"};await $fetch(`/api/update?col=pages&id=${t}`,{method:"PUT",body:_}),s()},s=async()=>{const{result:t}=await $fetch("/api/query?col=pages");n.value=t};return(t,_)=>{const b=A;return l(),c("div",null,[(l(!0),c(k,null,S(a(n),i=>(l(),c("div",{key:i.id},[w(m(i.id)+" "+m(i.name)+" ",1),e("span",{onClick:v=>d(i.id)},"Delete",8,H),e("span",{onClick:v=>u(i.id)},"Update",8,I)]))),128)),g(b,{onSubmitForm:o})])}}});export{O as default};
